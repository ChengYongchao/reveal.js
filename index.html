<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>JavaStream流</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/moon.css" id="theme">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
</head>

<body>
	<div class="reveal">
		<div class="slides">

			<!-- 1.首页 -->
			<section>
				<h2>Java Stream流 JDK1.8</h2>
				<small>图计算组： 程永超</small>
				</p>
			</section>
			<!-- 1.目录 -->
			<section data-markdown>
				<textarea data-template>
							- 什么是流
							- 流的特点
					</textarea>
			</section>

			<section data-markdown>
				<textarea data-template>
						#### Stream 流的整个生命周期
						```Java
						+--------------------+       +------+   +------+   +---+   +-------+
						| stream of elements +-----> |filter+-> |sorted+-> |map+-> |collect|
						+--------------------+       +------+   +------+   +---+   +-------+
						```
					  </textarea>
			</section>

			<section>
				<h3>创建一个流</h>
					<p class="fragment fade-up">容器</p>
					<p class="fragment fade-up">数组</p>
					<p class="fragment fade-up">IO</p>
					<p class="fragment fade-up">产生器generator</p>
			</section>

			<section>
				<img src="\img\java8容器类图.png">
			</section>

			<section>
					<section data-markdown>
							<textarea data-template>
								<pre><code data-trim data-noescape>
										<span id="cb1-3"><a href="#cb1-3"></a>    {</span>
											<span id="cb1-4"><a href="#cb1-4"></a>        <span class="co">/**</span></span>
											<span id="cb1-5"><a href="#cb1-5"></a>         <span class="co">*</span> <span class="an">{@code Collection}</span>在JDK1<span class="co">.8版本实现了Stream()</span>方法和parallelStream<span class="co">()</span>方法，</span>
											<span id="cb1-6"><a href="#cb1-6"></a>         <span class="co">*</span> 所有实现Collection的容器类通过调用stream<span class="co">()</span>方法或者 parallelStream<span class="co">()</span></span>
											<span id="cb1-7"><a href="#cb1-7"></a>         <span class="co">*/</span></span>
											<span id="cb1-8"><a href="#cb1-8"></a>        <span class="co">// List</span></span>
											<span id="cb1-9"><a href="#cb1-9"></a>        <span class="bu">List</span>&lt;<span class="bu">String</span>&gt; list = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();</span>
											<span id="cb1-10"><a href="#cb1-10"></a>        list.<span class="fu">add</span>(<span class="st">&quot;a&quot;</span>);</span>
											<span id="cb1-11"><a href="#cb1-11"></a>        list.<span class="fu">add</span>(<span class="st">&quot;b&quot;</span>);</span>
											<span id="cb1-12"><a href="#cb1-12"></a>        list.<span class="fu">add</span>(<span class="st">&quot;c&quot;</span>);</span>
											<span id="cb1-13"><a href="#cb1-13"></a>        list.<span class="fu">stream</span>();</span>
											<span id="cb1-14"><a href="#cb1-14"></a></span>
											<span id="cb1-15"><a href="#cb1-15"></a>        <span class="co">// Set</span></span>
											<span id="cb1-16"><a href="#cb1-16"></a>        <span class="bu">Set</span>&lt;<span class="bu">Integer</span>&gt; set = <span class="kw">new</span> <span class="bu">HashSet</span>&lt;<span class="bu">Integer</span>&gt;();</span>
											<span id="cb1-17"><a href="#cb1-17"></a>        set.<span class="fu">add</span>(<span class="dv">1</span>);</span>
											<span id="cb1-18"><a href="#cb1-18"></a>        set.<span class="fu">add</span>(<span class="dv">2</span>);</span>
											<span id="cb1-19"><a href="#cb1-19"></a>        set.<span class="fu">add</span>(<span class="dv">3</span>);</span>
											<span id="cb1-20"><a href="#cb1-20"></a>        set.<span class="fu">stream</span>();</span>
											<span id="cb1-21"><a href="#cb1-21"></a></span>
											
											<span id="cb1-28"><a href="#cb1-28"></a>        <span class="co">// Vector</span></span>
											<span id="cb1-29"><a href="#cb1-29"></a>        <span class="bu">Vector</span>&lt;<span class="bu">Integer</span>&gt; vector = <span class="kw">new</span> <span class="bu">Vector</span>&lt;&gt;();</span>
											<span id="cb1-30"><a href="#cb1-30"></a>        vector.<span class="fu">add</span>(<span class="dv">1</span>);</span>
											<span id="cb1-31"><a href="#cb1-31"></a>        vector.<span class="fu">add</span>(<span class="dv">2</span>);</span>
											<span id="cb1-32"><a href="#cb1-32"></a>        vector.<span class="fu">stream</span>();</span>
											<span id="cb1-33"><a href="#cb1-33"></a></span>
											<span id="cb1-34"><a href="#cb1-34"></a>        <span class="co">// Queue</span></span>
											<span id="cb1-35"><a href="#cb1-35"></a>        <span class="bu">Queue</span>&lt;<span class="bu">Integer</span>&gt; queue = <span class="kw">new</span> <span class="bu">ArrayBlockingQueue</span>&lt;&gt;(<span class="dv">12</span>);</span>
											<span id="cb1-36"><a href="#cb1-36"></a>        queue.<span class="fu">add</span>(<span class="dv">1</span>);</span>
											<span id="cb1-37"><a href="#cb1-37"></a>        queue.<span class="fu">add</span>(<span class="dv">2</span>);</span>
											<span id="cb1-38"><a href="#cb1-38"></a>        queue.<span class="fu">stream</span>();</span>
											<span id="cb1-39"><a href="#cb1-39"></a></span>
											<span id="cb1-40"><a href="#cb1-40"></a>        <span class="co">// Stack</span></span>
											<span id="cb1-41"><a href="#cb1-41"></a>        <span class="bu">Stack</span>&lt;<span class="bu">Integer</span>&gt; stack = <span class="kw">new</span> <span class="bu">Stack</span>&lt;&gt;();</span>
											<span id="cb1-42"><a href="#cb1-42"></a>        stack.<span class="fu">add</span>(<span class="dv">1</span>);</span>
											<span id="cb1-43"><a href="#cb1-43"></a>        stack.<span class="fu">add</span>(<span class="dv">2</span>);</span>
											<span id="cb1-44"><a href="#cb1-44"></a>        stack.<span class="fu">stream</span>();</span>
											<span id="cb1-45"><a href="#cb1-45"></a></span>
											<span id="cb1-46"><a href="#cb1-46"></a>        <span class="co">// Map 通过调用map的entrySet()方法，获取Set再调用stream()</span></span>
											<span id="cb1-47"><a href="#cb1-47"></a>        <span class="bu">Map</span>&lt;<span class="bu">Integer</span>, <span class="bu">String</span>&gt; map = <span class="kw">new</span> <span class="bu">HashMap</span>&lt;&gt;();</span>
											<span id="cb1-48"><a href="#cb1-48"></a>        map.<span class="fu">put</span>(<span class="dv">1</span>, <span class="st">&quot;a&quot;</span>);</span>
											<span id="cb1-49"><a href="#cb1-49"></a>        map.<span class="fu">put</span>(<span class="dv">2</span>, <span class="st">&quot;b&quot;</span>);</span>
											<span id="cb1-50"><a href="#cb1-50"></a>        map.<span class="fu">entrySet</span>().<span class="fu">stream</span>();</span>
											<span id="cb1-51"><a href="#cb1-51"></a></span>
											<span id="cb1-52"><a href="#cb1-52"></a>        <span class="co">/**</span></span>
											<span id="cb1-53"><a href="#cb1-53"></a>         <span class="co">*</span> <span class="an">{@code Arrays}</span>在JDK1<span class="co">.8中加入了stream系列方法</span>， 数组可以调用Arrays<span class="co">.</span>stream<span class="co">(</span>T <span class="co">[]</span></span>
											<span id="cb1-54"><a href="#cb1-54"></a>         <span class="co">*</span> array<span class="co">)</span>实现流，同时还有参数不同的stream函数用来截取数组</span>
											<span id="cb1-55"><a href="#cb1-55"></a>         <span class="co">*/</span></span>
											<span id="cb1-56"><a href="#cb1-56"></a>        <span class="co">// 数组</span></span>
											<span id="cb1-57"><a href="#cb1-57"></a>        <span class="bu">String</span>[] arr = {<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>};</span>
											<span id="cb1-58"><a href="#cb1-58"></a>        <span class="bu">Arrays</span>.<span class="fu">stream</span>(arr);</span>
											<span id="cb1-59"><a href="#cb1-59"></a></span>
											<span id="cb1-60"><a href="#cb1-60"></a>        <span class="co">// 值，直接将值转变成流对象</span></span>
											<span id="cb1-61"><a href="#cb1-61"></a>        Stream.<span class="fu">of</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>);</span>
											<span id="cb1-62"><a href="#cb1-62"></a></span>
								</code></pre>
							  </textarea>
						</section>
						<section data-markdown>
								<textarea data-template>
								<pre>
									<code data-trim data-noescape>
											<span id="cb1-62"><a href="#cb1-62"></a></span>
											<span id="cb1-63"><a href="#cb1-63"></a>        <span class="co">// 从IO获取流</span></span>
											<span id="cb1-64"><a href="#cb1-64"></a>        <span class="kw">try</span> (</span>
											<span id="cb1-65"><a href="#cb1-65"></a>            Stream&lt;<span class="bu">String</span>&gt; lines = Files.<span class="fu">lines</span>(Paths.<span class="fu">get</span>(<span class="st">&quot;文件路径名&quot;</span>), <span class="bu">Charset</span>.<span class="fu">defaultCharset</span>())</span>
											<span id="cb1-66"><a href="#cb1-66"></a>        )</span>
											<span id="cb1-67"><a href="#cb1-67"></a>        {</span>
											<span id="cb1-68"><a href="#cb1-68"></a>            <span class="co">// 可对lines做一些操作</span></span>
											<span id="cb1-69"><a href="#cb1-69"></a>        }</span>
											<span id="cb1-70"><a href="#cb1-70"></a>        <span class="kw">catch</span> (<span class="bu">IOException</span> e)</span>
											<span id="cb1-71"><a href="#cb1-71"></a>        {}</span>
									</code>
								</pre>
							</textarea>
						</section>
								
						<section data-markdown>
								<textarea data-template>
								<pre>
									<code data-trim data-noescape>
											<span id="cb1-72"><a href="#cb1-72"></a>        <span class="co">// 拓展：无限流的创建</span></span>
											<span id="cb1-73"><a href="#cb1-73"></a>        <span class="co">// 迭代</span></span>
											<span id="cb1-74"><a href="#cb1-74"></a>        Stream.<span class="fu">iterate</span>(<span class="dv">0</span>, x -&gt; x + <span class="dv">1</span>).<span class="fu">limit</span>(<span class="dv">10</span>).<span class="fu">forEach</span>(<span class="bu">System</span>.<span class="fu">out</span>::println);</span>
											<span id="cb1-75"><a href="#cb1-75"></a>        <span class="co">// 随机生成</span></span>
											<span id="cb1-76"><a href="#cb1-76"></a>        Stream.<span class="fu">generate</span>(() -&gt; <span class="bu">Math</span>.<span class="fu">random</span>());</span>
									</code>
								</pre>
							</textarea>
						</section>
		</section>
	
		<!-- 操作 -->
			
		</div>
	</div>

	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>
</body>

</html>